{
    "sourceFile": "frontend/src/components/FFMM1.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1633900808626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1633900808626,
            "name": "Commit-0",
            "content": "import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../styles/dest.css';\r\n\r\n\r\n\r\nexport default class FFMM1 extends Component {\r\nconstructor(props){\r\n    super(props);\r\n    this.state={\r\n        destinations:[]\r\n    };\r\n}\r\n\r\ncomponentDidMount(){\r\n    this.retrieveDestinations();\r\n}\r\n\r\nretrieveDestinations(){\r\n    axios.get(\"http://localhost:8070/destinations\").then(res=>{\r\n        if(res.data.success){\r\n            this.setState({\r\n                destinations:res.data.existingDestinations\r\n            });\r\n            console.log(this.state.destinations)   \r\n        }\r\n    });\r\n}\r\n\r\n\r\nonDelete = (id) =>{\r\n    axios.delete(`http://localhost:8070/destination/delete/${id}`).then((res)=>{\r\n        alert(\"Delete successfully\");\r\n        this.retrieveDestinations();\r\n    });\r\n}\r\n\r\n\r\nfilterData(destinations,searchkey){\r\n    const result = destinations.filter((destination) =>\r\n        destination.title.toLowerCase().includes(searchkey) || \r\n        destination.description.toLowerCase().includes(searchkey) || \r\n        destination.description1.toLowerCase().includes(searchkey)\r\n    )\r\n\r\n    this.setState({destinations:result})\r\n}\r\n\r\n\r\nhandleSearchArea = (e) =>{\r\n    const searchkey = e.currentTarget.value;\r\n    axios.get(\"http://localhost:8070/destinations\").then(res=>{\r\n        if(res.data.success){\r\n            this.filterData(res.data.existingDestinations,searchkey)\r\n        }\r\n    });\r\n}\r\n\r\n\r\nrender() {\r\n    return (\r\n        <div className=\"container\">  \r\n\r\n            <br/><center><h3><b>All Destinations</b></h3></center>\r\n            \r\n            <center><div className=\"col-lg-3 mt-2 mb-2\" >\r\n                    <input\r\n                    className=\"form-control\"\r\n                    type=\"search\"\r\n                    placeholder=\"search\"\r\n                    name=\"searchQuery\"\r\n                    onChange={this.handleSearchArea}/>\r\n            </div></center>\r\n            \r\n\r\n\r\n            <div>\r\n                <button className=\"btn btn-success\">\r\n                    <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>&nbsp;&nbsp;\r\n                    <a href=\"/addDestination\" style={{textDecoration:'none', color:'white'}}>Create New Destination</a>                \r\n                </button>\r\n            </div>\r\n\r\n\r\n            <br/>\r\n            <hr/>\r\n\r\n            \r\n            <table className=\"table\" id=\"table1\" style={{marginBottom:'40px'}}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\"><b>ID</b></th>\r\n                            <th scope=\"col\"><b>Title</b></th>\r\n                            <th scope=\"col\"><b>Description</b></th>                            \r\n                            <th scope=\"col\"><b>Description1</b></th>\r\n                            <th scope=\"col\"><b>Destination URL</b></th>\r\n                            <th scope=\"col\"><b>Video URL</b></th>                            \r\n                            <th scope=\"col\"><b>Image</b></th>\r\n                            <th scope=\"col\"><b>Action</b></th>\r\n                            \r\n                        </tr>\r\n                    </thead>\r\n\r\n                    \r\n                    <tbody>\r\n                        {this.state.destinations.map((destinations,index)=>(\r\n                            <tr key={index}>\r\n                            <th scope=\"row\">{index+1}</th>\r\n                            <td>\r\n                                <a href={`/Destination/${destinations._id}`} style={{textDecoration:'none'}}>\r\n                                {destinations.title}\r\n                                </a>\r\n                            </td>\r\n                            <td>{destinations.description}</td>\r\n                            <td>{destinations.description1}</td>\r\n                            <td><a href={destinations.url} >{destinations.url}</a></td>\r\n                            <td><a href={destinations.url1} >{destinations.url1}</a></td>                            \r\n                            <td>\r\n                            <div class=\"dropdown\">\r\n                                <img src={ \"http://localhost:8070/\" + destinations.image1 } alt={destinations.name} width=\"40\" height=\"50\"/>                                \r\n                            </div>\r\n                            </td>\r\n                            \r\n\r\n\r\n                            <td>\r\n                                <a className=\"btn btn-warning\" href={`/editDestination/${destinations._id}`}>\r\n                                    <i className=\"fas fa-edit\"></i>&nbsp;Edit\r\n                                </a>\r\n                                &nbsp;\r\n                                &nbsp;\r\n                                &nbsp;\r\n                                <a className=\"btn btn-danger\" href=\"#\" onClick={() =>this.onDelete(destinations._id)}>\r\n                                    <i className=\"far fa-trash-alt\"></i>&nbsp;Delete\r\n                                </a>\r\n                            </td>\r\n                        </tr>\r\n                        ))}\r\n\r\n                    </tbody>\r\n                    \r\n                </table> \r\n                        \r\n        </div>\r\n    )\r\n}\r\n}"
        }
    ]
}