{
    "sourceFile": "frontend/src/components/CreateVehicle.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1633900750554,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1633900761519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import React, { Component } from 'react';\r\n import axios from 'axios';\r\n import '../styles/vehicleDetails.css';\r\n import '../styles/RV_booking.css';\r\n-import '../styles/RV_booking.css';\r\n+import '../styles/de.css';\r\n \r\n export default class CreateVehicle extends Component {\r\n \r\n     constructor(props){\r\n"
                },
                {
                    "date": 1633900767899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,10 @@\n import React, { Component } from 'react';\r\n import axios from 'axios';\r\n import '../styles/vehicleDetails.css';\r\n import '../styles/RV_booking.css';\r\n-import '../styles/de.css';\r\n \r\n+\r\n export default class CreateVehicle extends Component {\r\n \r\n     constructor(props){\r\n         super(props);\r\n"
                }
            ],
            "date": 1633900750554,
            "name": "Commit-0",
            "content": "import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../styles/vehicleDetails.css';\r\nimport '../styles/RV_booking.css';\r\nimport '../styles/RV_booking.css';\r\n\r\nexport default class CreateVehicle extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state={\r\n            is_booked:\"\",\r\n            name:\"\",\r\n            brand:\"\",\r\n            price_per_day:\"\",\r\n            image1:\"\",\r\n            image2:\"\",\r\n            image3:\"\",\r\n            image4:\"\",\r\n            image5:\"\",\r\n            year:\"\",\r\n            category:\"\",\r\n            seat_capacity:\"\",\r\n            description:\"\",\r\n            contact_number:\"\",\r\n\r\n            is_bookedError:'',\r\n            nameError:'',\r\n            brandError:'',\r\n            price_per_dayError:'',\r\n            image1Error:'',\r\n            image2Error:'',\r\n            image3Error:'',\r\n            image4Error:'',\r\n            image5Error:'',\r\n            yearError:'',\r\n            categoryError:'',\r\n            seat_capacityError:'',\r\n            descriptionError:'',\r\n            contact_numberError:'',\r\n        };\r\n    }\r\n\r\n    handleInputChange = (e) =>{\r\n        const {name,value} = e.target;\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            [name]:value\r\n        })\r\n\r\n    }\r\n\r\n    onSubmit = (e) =>{\r\n        e.preventDefault();\r\n        this.validation();\r\n\r\n        if(this.state.name && this.state.brand && this.state.price_per_day  && this.state.image1  && this.state.image2 && this.state.image3 && this.state.image4 && this.state.image5 && this.state.year && this.state.category  && this.state.seat_capacity  && this.state.description && this.state.contact_number ){    \r\n\r\n        const { is_booked,name,brand,price_per_day,image1,image2,image3,image4, image5,year,category,seat_capacity,description,contact_number}=this.state;\r\n\r\n        const data ={\r\n            is_booked:is_booked,\r\n            name:name,\r\n            brand:brand,\r\n            price_per_day:price_per_day,\r\n            image1:image1,\r\n            image2:image2,\r\n            image3:image3,\r\n            image4:image4,\r\n            image5:image5,\r\n            year:year,\r\n            category:category,\r\n            seat_capacity:seat_capacity,\r\n            description:description,\r\n            contact_number:contact_number\r\n        }\r\n\r\n       \r\n            \r\n            console.log(data);\r\n            \r\n\r\n            axios.post(\"http://localhost:8070/vehicle/save\",data).then((res)=>{\r\n                alert(\"vehicle create successfully\");\r\n                if(res.data.success){\r\n                    this.setState({\r\n                        is_booked:\"\",\r\n                        name:\"\",\r\n                        brand:\"\",\r\n                        price_per_day:\"\",\r\n                        image1:\"\",\r\n                        image2:\"\",\r\n                        image3:\"\",\r\n                        image4:\"\",\r\n                        image5:\"\",\r\n                        year:\"\",\r\n                        category:\"\",\r\n                        seat_capacity:\"\",\r\n                        description:\"\",\r\n                        contact_number:\"\",\r\n                    });\r\n                    \r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    onChangeImage1=event=>{\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n        }, () => {\r\n            const data = new FormData() \r\n            data.append('file', this.state.selectedFile)\r\n            axios.post(\"http://localhost:8070/vehicle/upload\", data, { \r\n            }).then(res => { \r\n                this.setState({image1:res.data.filename})\r\n            })\r\n        })\r\n    }\r\n\r\n    onChangeImage2=event=>{\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n        }, () => {\r\n            const data = new FormData() \r\n            data.append('file', this.state.selectedFile)\r\n            axios.post(\"http://localhost:8070/vehicle/upload\", data, { \r\n            }).then(res => { \r\n                this.setState({image2:res.data.filename})\r\n            })\r\n        })\r\n    }\r\n    \r\n    onChangeImage3=event=>{\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n        }, () => {\r\n            const data = new FormData() \r\n            data.append('file', this.state.selectedFile)\r\n            axios.post(\"http://localhost:8070/vehicle/upload\", data, { \r\n            }).then(res => { \r\n                this.setState({image3:res.data.filename})\r\n            })\r\n        })\r\n    }\r\n    \r\n    onChangeImage4=event=>{\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n        }, () => {\r\n            const data = new FormData() \r\n            data.append('file', this.state.selectedFile)\r\n            axios.post(\"http://localhost:8070/vehicle/upload\", data, { \r\n            }).then(res => { \r\n                this.setState({image4:res.data.filename})\r\n            })\r\n        })\r\n    }\r\n\r\n    onChangeImage5=event=>{\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n        }, () => {\r\n            const data = new FormData() \r\n            data.append('file', this.state.selectedFile)\r\n            axios.post(\"http://localhost:8070/vehicle/upload\", data, { \r\n            }).then(res => { \r\n                this.setState({image5:res.data.filename})\r\n            })\r\n        })\r\n    }    \r\n\r\n    validation = () => {\r\n        \r\n        let is_bookedError=\"\";\r\n        let nameError=\"\";\r\n        let brandError=\"\";\r\n        let price_per_dayError=\"\";\r\n        let image1Error=\"\";\r\n        let image2Error=\"\";\r\n        let image3Error=\"\";\r\n        let image4Error=\"\";\r\n        let image5Error=\"\";\r\n        let yearError=\"\";\r\n        let categoryError=\"\";\r\n        let seat_capacityError=\"\";\r\n        let descriptionError=\"\";\r\n        let contact_numberError=\"\";\r\n        \r\n        \r\n\r\n        if(!this.state.name){\r\n            nameError=\"Name Required!\"\r\n        }\r\n\r\n        if(!this.state.brand){\r\n            brandError=\"Brand name Required!\"\r\n\r\n        }\r\n\r\n        if(!this.state.price_per_day){\r\n            price_per_dayError=\"price per day Required!\"\r\n        }\r\n\r\n        if(!this.state.image1.includes('jpg','jpeg','png')){\r\n            image1Error=\"invalid fill type\"\r\n        }\r\n\r\n        if(!this.state.image1){\r\n            image1Error=\"Image 1 Required!\"\r\n        }\r\n\r\n        if(!this.state.image2.includes('jpg','jpeg','png')){\r\n            image2Error=\"invalid fill type\"\r\n        }\r\n        \r\n\r\n        if(!this.state.image2){\r\n            image2Error=\"Image 2 Required!\"\r\n\r\n        }\r\n\r\n        if(!this.state.image3.includes('jpg','jpeg','png')){\r\n            image3Error=\"invalid fill type\"\r\n        }\r\n\r\n        if(!this.state.image3 ){\r\n            image3Error=\"Image 3 Required!\"\r\n\r\n        }\r\n\r\n        if(!this.state.image4.includes('jpg','jpeg','png')){\r\n            image4Error=\"invalid fill type\"\r\n        }\r\n\r\n        if(!this.state.image4){\r\n            image4Error=\"Image 4 Required!\"\r\n\r\n        }\r\n\r\n        if(!this.state.image5.includes('jpg','jpeg','png')){\r\n            image5Error=\"invalid fill type\"\r\n        }\r\n\r\n        if(!this.state.image5){\r\n            image5Error=\"Image 5 Required!\"\r\n        }\r\n\r\n        if(!this.state.year){\r\n            yearError=\"year Required!\"\r\n        }\r\n\r\n        if(!this.state.category){\r\n            categoryError=\"category Required!\"\r\n\r\n        }\r\n\r\n\r\n        if(!this.state.seat_capacity){\r\n            seat_capacityError=\"seat capacity Required!\"\r\n        }\r\n\r\n        if(!this.state.description){\r\n            descriptionError=\"description Required!\"\r\n        }\r\n\r\n        if(!this.state.contact_number.length > 10){\r\n            contact_numberError=\"invalid contact number!\"\r\n        }\r\n\r\n        if(!this.state.contact_number){\r\n            contact_numberError=\"contact number Required!\"\r\n        }\r\n\r\n        if(nameError | brandError | price_per_dayError | image1Error | image2Error | image3Error | image4Error | image5Error | yearError | categoryError | seat_capacityError | descriptionError | contact_numberError ){\r\n\r\n            this.setState({ nameError , brandError , price_per_dayError , image1Error , image2Error , image3Error , image4Error , image5Error , yearError , categoryError , seat_capacityError , descriptionError , contact_numberError });\r\n\r\n            return false;\r\n        }else{\r\n\r\n            this.setState({ nameError , brandError , price_per_dayError , image1Error , image2Error , image3Error , image4Error , image5Error , yearError , categoryError , seat_capacityError , descriptionError , contact_numberError });\r\n\r\n        }\r\n        return true;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n            <div className=\"col-md-8 mt-4 mx-auto\">\r\n                <h1 className=\"h3 mb-3 font-weight-normal\">Create new vehicle</h1>\r\n\r\n                    <form className=\"form-group\" noValidate>\r\n\r\n                        <div className=\"bla\">\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>is booked?</label>\r\n                                <br/>\r\n                                <input type=\"text\"\r\n                                className=\"formcontrol\"\r\n                                name=\"is_booked\"\r\n                                placeholder=\"is booked type 'BOOKED', else keep empty\"\r\n                                value={this.state.is_booked}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.is_bookedError}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>name</label>\r\n                                <br/>\r\n                                <input type=\"text\"\r\n                                className=\"formcontrol\"\r\n                                name=\"name\"\r\n                                placeholder=\"Enter Vehicle name\"\r\n                                value={this.state.name}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.nameError}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>brand</label>\r\n                                <br/>\r\n                                <input type=\"text\"\r\n                                className=\"formcontrol\"\r\n                                name=\"brand\"\r\n                                placeholder=\"Enter Vehicle brand\"\r\n                                value={this.state.brand}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.brandError}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bla\">\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>price per day</label>\r\n                                <br/>\r\n                                <input type=\"number\"\r\n                                className=\"formcontrol\"\r\n                                name=\"price_per_day\"\r\n                                placeholder=\"Enter price per day\"\r\n                                value={this.state.price_per_day}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.price_per_dayError}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>year</label>\r\n                                <br/>\r\n                                <input type=\"number\"\r\n                                className=\"formcontrol\"\r\n                                name=\"year\"\r\n                                placeholder=\"Enter year\"\r\n                                value={this.state.year}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.yearError}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bla\">\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>image1</label>\r\n                                <br/>\r\n                                <input type=\"file\"\r\n                                className=\"formcontrol\"\r\n                                name=\"image1\"\r\n                                onChange={this.onChangeImage1} />\r\n                                <div style={{color : \"red\"}}>{this.state.image1Error}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>image2</label>\r\n                                <br/>\r\n                                <input type=\"file\"\r\n                                className=\"formcontrol\"\r\n                                name=\"image2\"\r\n                                onChange={this.onChangeImage2} />\r\n                                <div style={{color : \"red\"}}>{this.state.image2Error}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bla\">\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>image3</label>\r\n                                <br/>\r\n                                <input type=\"file\"\r\n                                className=\"formcontrol\"\r\n                                name=\"image3\"\r\n                                onChange={this.onChangeImage3} />\r\n                                <div style={{color : \"red\"}}>{this.state.image3Error}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>image4</label>\r\n                                <br/>\r\n                                <input type=\"file\"\r\n                                className=\"formcontrol\"\r\n                                name=\"image4\"\r\n                                onChange={this.onChangeImage4} />\r\n                                <div style={{color : \"red\"}}>{this.state.image4Error}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bla\">\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>image5</label>\r\n                                <br/>\r\n                                <input type=\"file\"\r\n                                className=\"formcontrol\"\r\n                                name=\"image5\"\r\n                                onChange={this.onChangeImage5} />\r\n                                <div style={{color : \"red\"}}>{this.state.image5Error}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bla\">\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>category</label>\r\n                                <br/>\r\n                                <input type=\"text\"\r\n                                className=\"formcontrol\"\r\n                                name=\"category\"\r\n                                placeholder=\"Enter category\"\r\n                                value={this.state.category}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.categoryError}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>seat capacity</label>\r\n                                <br/>\r\n                                <input type=\"number\"\r\n                                className=\"formcontrol\"\r\n                                name=\"seat_capacity\"\r\n                                placeholder=\"Enter seat capacity\"\r\n                                value={this.state.seat_capacity}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.seat_capacityError}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bla\">\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>description</label>\r\n                                <br/>\r\n                                <textarea\r\n                                className=\"formcontrol\"\r\n                                name=\"description\"\r\n                                placeholder=\"Enter description\"\r\n                                value={this.state.description}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.descriptionError}</div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\" style={{marginBottom:'15px'}}>\r\n                                <label style={{marginBottom:'5px'}}>contact number</label>\r\n                                <br/>\r\n                                <input type=\"number\"\r\n                                className=\"formcontrol\"\r\n                                name=\"contact_number\"\r\n                                placeholder=\"Enter contact number\"\r\n                                value={this.state.contact_number}\r\n                                onChange={this.handleInputChange} />\r\n                                <div style={{color : \"red\"}}>{this.state.contact_numberError}</div>\r\n                            </div>\r\n                        </div>\r\n                        <button className=\" btn-success\" type=\"submit\" style={{marginTop:'15px'}} onClick={this.onSubmit}>\r\n                            \r\n                            &nbsp; save\r\n                        </button>\r\n\r\n                    </form>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"
        }
    ]
}